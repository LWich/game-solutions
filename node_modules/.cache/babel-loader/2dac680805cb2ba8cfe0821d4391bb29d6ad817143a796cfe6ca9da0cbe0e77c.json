{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Context}from'../../../index';import cls from'./style.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Modal(_ref){let{coins,vis,setVis}=_ref;const{user}=useContext(Context);const[cointCoins,setCointCoins]=useState(user.coins);const[coinsVis,setCoinsVis]=useState(false);useEffect(()=>{if(vis){let currentCoins=cointCoins;const int=setInterval(()=>{console.log(12);if(currentCoins<coins&&coinsVis){currentCoins+=1;setCointCoins(currentCoins);}else{clearInterval(int);}},10);return()=>clearInterval(int);}},[coinsVis]);function saveCoins(){setVis(false);setCoinsVis(true);console.log(user.coins,coins);user.setCoins(user.coins+coins);}const rootClasses=[cls.back];if(vis){rootClasses.push(cls.active);}return/*#__PURE__*/_jsxs(\"div\",{className:rootClasses.join(' '),children:[/*#__PURE__*/_jsx(\"div\",{className:cls.countCont,children:/*#__PURE__*/_jsxs(\"div\",{className:cls.count,children:[/*#__PURE__*/_jsx(\"img\",{src:\"/assets/icons/coin.svg\",alt:\"coin\"}),/*#__PURE__*/_jsxs(\"span\",{children:[cointCoins,\" TON\"]})]})}),/*#__PURE__*/_jsxs(\"span\",{className:cls.mainText,children:[\"\\u0412\\u044B \\u0432\\u044B\\u0438\\u0433\\u0440\\u0430\\u043B\\u0438 \",coins,\" TON\"]}),/*#__PURE__*/_jsx(\"div\",{className:cls.down,children:/*#__PURE__*/_jsx(\"button\",{onClick:saveCoins,children:\"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \\u043F\\u0440\\u0438\\u0437\"})})]});}export default Modal;","map":{"version":3,"names":["React","useContext","useEffect","useState","Context","cls","jsx","_jsx","jsxs","_jsxs","Modal","_ref","coins","vis","setVis","user","cointCoins","setCointCoins","coinsVis","setCoinsVis","currentCoins","int","setInterval","console","log","clearInterval","saveCoins","setCoins","rootClasses","back","push","active","className","join","children","countCont","count","src","alt","mainText","down","onClick"],"sources":["C:/Users/user/Desktop/Новая папка (2)/game-solutions/src/components/Wheel/Modal/modal.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Context } from '../../../index';\r\nimport cls from './style.module.css';\r\n\r\nfunction Modal({ coins, vis, setVis }) {\r\n    const { user } = useContext(Context);\r\n    const [cointCoins, setCointCoins] = useState(user.coins);\r\n    const [coinsVis, setCoinsVis] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (vis) {\r\n            let currentCoins = cointCoins;\r\n\r\n            const int = setInterval(() => {\r\n                console.log(12)\r\n                if (currentCoins < coins && coinsVis) {\r\n                    currentCoins += 1;\r\n                    setCointCoins(currentCoins);\r\n                   \r\n                } else {\r\n                    clearInterval(int);\r\n                }\r\n            }, 10);\r\n            \r\n            return () => clearInterval(int);\r\n        }\r\n    }, [coinsVis]); \r\n\r\n    function saveCoins() {\r\n        setVis(false);\r\n        setCoinsVis(true);\r\n        console.log(user.coins, coins)\r\n        user.setCoins(user.coins + coins)\r\n    }\r\n\r\n    const rootClasses = [cls.back];\r\n\r\n    if (vis) {\r\n        rootClasses.push(cls.active);\r\n    }\r\n\r\n    return (\r\n        <div className={rootClasses.join(' ')}>\r\n            <div className={cls.countCont}>\r\n                <div className={cls.count}>\r\n                    <img src='/assets/icons/coin.svg' alt='coin'></img>\r\n                    <span>{cointCoins} TON</span>\r\n                </div>\r\n            </div>\r\n\r\n            <span className={cls.mainText}>Вы выиграли {coins} TON</span>\r\n            \r\n            <div className={cls.down}>\r\n                <button onClick={saveCoins}>Получить приз</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Modal;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,OAAO,KAAQ,gBAAgB,CACxC,MAAO,CAAAC,GAAG,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAyB,IAAxB,CAAEC,KAAK,CAAEC,GAAG,CAAEC,MAAO,CAAC,CAAAH,IAAA,CACjC,KAAM,CAAEI,IAAK,CAAC,CAAGd,UAAU,CAACG,OAAO,CAAC,CACpC,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAACY,IAAI,CAACH,KAAK,CAAC,CACxD,KAAM,CAACM,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAE/CD,SAAS,CAAC,IAAM,CACZ,GAAIW,GAAG,CAAE,CACL,GAAI,CAAAO,YAAY,CAAGJ,UAAU,CAE7B,KAAM,CAAAK,GAAG,CAAGC,WAAW,CAAC,IAAM,CAC1BC,OAAO,CAACC,GAAG,CAAC,EAAE,CAAC,CACf,GAAIJ,YAAY,CAAGR,KAAK,EAAIM,QAAQ,CAAE,CAClCE,YAAY,EAAI,CAAC,CACjBH,aAAa,CAACG,YAAY,CAAC,CAE/B,CAAC,IAAM,CACHK,aAAa,CAACJ,GAAG,CAAC,CACtB,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,IAAMI,aAAa,CAACJ,GAAG,CAAC,CACnC,CACJ,CAAC,CAAE,CAACH,QAAQ,CAAC,CAAC,CAEd,QAAS,CAAAQ,SAASA,CAAA,CAAG,CACjBZ,MAAM,CAAC,KAAK,CAAC,CACbK,WAAW,CAAC,IAAI,CAAC,CACjBI,OAAO,CAACC,GAAG,CAACT,IAAI,CAACH,KAAK,CAAEA,KAAK,CAAC,CAC9BG,IAAI,CAACY,QAAQ,CAACZ,IAAI,CAACH,KAAK,CAAGA,KAAK,CAAC,CACrC,CAEA,KAAM,CAAAgB,WAAW,CAAG,CAACvB,GAAG,CAACwB,IAAI,CAAC,CAE9B,GAAIhB,GAAG,CAAE,CACLe,WAAW,CAACE,IAAI,CAACzB,GAAG,CAAC0B,MAAM,CAAC,CAChC,CAEA,mBACItB,KAAA,QAAKuB,SAAS,CAAEJ,WAAW,CAACK,IAAI,CAAC,GAAG,CAAE,CAAAC,QAAA,eAClC3B,IAAA,QAAKyB,SAAS,CAAE3B,GAAG,CAAC8B,SAAU,CAAAD,QAAA,cAC1BzB,KAAA,QAAKuB,SAAS,CAAE3B,GAAG,CAAC+B,KAAM,CAAAF,QAAA,eACtB3B,IAAA,QAAK8B,GAAG,CAAC,wBAAwB,CAACC,GAAG,CAAC,MAAM,CAAM,CAAC,cACnD7B,KAAA,SAAAyB,QAAA,EAAOlB,UAAU,CAAC,MAAI,EAAM,CAAC,EAC5B,CAAC,CACL,CAAC,cAENP,KAAA,SAAMuB,SAAS,CAAE3B,GAAG,CAACkC,QAAS,CAAAL,QAAA,EAAC,gEAAY,CAACtB,KAAK,CAAC,MAAI,EAAM,CAAC,cAE7DL,IAAA,QAAKyB,SAAS,CAAE3B,GAAG,CAACmC,IAAK,CAAAN,QAAA,cACrB3B,IAAA,WAAQkC,OAAO,CAAEf,SAAU,CAAAQ,QAAA,CAAC,2EAAa,CAAQ,CAAC,CACjD,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAxB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}