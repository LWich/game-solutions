{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\game-solutions\\\\src\\\\components\\\\Wheel\\\\Modal\\\\modal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Context } from '../../../index';\nimport cls from './style.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Modal({\n  coins,\n  vis,\n  setVis\n}) {\n  _s();\n  const {\n    user\n  } = useContext(Context);\n  const [cointCoins, setCointCoins] = useState(user.coins);\n  const [coinsVis, setCoinsVis] = useState(false);\n  useEffect(() => {\n    if (vis) {\n      let currentCoins = cointCoins;\n      const int = setInterval(() => {\n        console.log(12);\n        if (currentCoins < coins && coinsVis) {\n          currentCoins += 1;\n          setCointCoins(currentCoins);\n        } else {\n          clearInterval(int);\n        }\n      }, 10);\n      return () => clearInterval(int);\n    }\n  }, [coinsVis]);\n  function saveCoins() {\n    setVis(false);\n    setCoinsVis(true);\n    console.log(user.coins, coins);\n    user.setCoins(user.coins + coins);\n  }\n  const rootClasses = [cls.back];\n  if (vis) {\n    rootClasses.push(cls.active);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: rootClasses.join(' '),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: cls.countCont,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cls.count,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/icons/coin.svg\",\n          alt: \"coin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [cointCoins, \" TON\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: cls.mainText,\n      children: [\"\\u0412\\u044B \\u0432\\u044B\\u0438\\u0433\\u0440\\u0430\\u043B\\u0438 \", coins, \" TON\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cls.down,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveCoins,\n        children: \"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \\u043F\\u0440\\u0438\\u0437\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n_s(Modal, \"0SWXdxfV5qSy2gonqfaslM3Yy18=\");\n_c = Modal;\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Context","cls","jsxDEV","_jsxDEV","Modal","coins","vis","setVis","_s","user","cointCoins","setCointCoins","coinsVis","setCoinsVis","currentCoins","int","setInterval","console","log","clearInterval","saveCoins","setCoins","rootClasses","back","push","active","className","join","children","countCont","count","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","mainText","down","onClick","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/Новая папка (2)/game-solutions/src/components/Wheel/Modal/modal.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Context } from '../../../index';\r\nimport cls from './style.module.css';\r\n\r\nfunction Modal({ coins, vis, setVis }) {\r\n    const { user } = useContext(Context);\r\n    const [cointCoins, setCointCoins] = useState(user.coins);\r\n    const [coinsVis, setCoinsVis] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (vis) {\r\n            let currentCoins = cointCoins;\r\n\r\n            const int = setInterval(() => {\r\n                console.log(12)\r\n                if (currentCoins < coins && coinsVis) {\r\n                    currentCoins += 1;\r\n                    setCointCoins(currentCoins);\r\n                   \r\n                } else {\r\n                    clearInterval(int);\r\n                }\r\n            }, 10);\r\n            \r\n            return () => clearInterval(int);\r\n        }\r\n    }, [coinsVis]); \r\n\r\n    function saveCoins() {\r\n        setVis(false);\r\n        setCoinsVis(true);\r\n        console.log(user.coins, coins)\r\n        user.setCoins(user.coins + coins)\r\n    }\r\n\r\n    const rootClasses = [cls.back];\r\n\r\n    if (vis) {\r\n        rootClasses.push(cls.active);\r\n    }\r\n\r\n    return (\r\n        <div className={rootClasses.join(' ')}>\r\n            <div className={cls.countCont}>\r\n                <div className={cls.count}>\r\n                    <img src='/assets/icons/coin.svg' alt='coin'></img>\r\n                    <span>{cointCoins} TON</span>\r\n                </div>\r\n            </div>\r\n\r\n            <span className={cls.mainText}>Вы выиграли {coins} TON</span>\r\n            \r\n            <div className={cls.down}>\r\n                <button onClick={saveCoins}>Получить приз</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Modal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}